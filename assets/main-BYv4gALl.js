/* empty css              */(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const l of c.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();const r={ulList:".transaction-list",liList:".transaction",itemID:"#id",inputName:"#item-name",inputNumber:"#item-money",addBtn:".add-btn",updateBtn:".update-btn",deleteBtn:".delete-btn",backBtn:".back-btn",totalMoney:".total__cash",category:"#category",removeBtn:".btn-remove",svg:"svg",totalPercent:".total__percent",burgerBtn:".transaction__burger",transactions:".transactions"},S=t=>{t.forEach(e=>{const n=document.createElement("li");n.classList.add("transaction"),n.setAttribute("id",e.id),n.innerHTML=`<p class="transaction-name"><i class="${e.category}"></i>${e.body}</p>
            <p class="transaction-amount">${e.number} <button class="edit"><i class="fa fa-pencil"></i></button></p>`;const s=document.querySelector(r.ulList);e.number>0?n.lastChild.style.color="lime":n.lastChild.style.color="red",s.append(n)})},I=t=>{let e=[0];t.forEach(f=>{e.push(parseInt(f.number))});const n=e.reduce((f,v)=>f+v),s=document.querySelector(r.totalMoney);let o=0,c=parseInt(n/100),i=setInterval(()=>{n>0?(o+=c,s.textContent=`${o}$`,o>=n&&(o=n,s.textContent=`${o}$`,clearInterval(i))):(o-=-c,s.textContent=`${o}$`,o<=n&&(o=n,s.textContent=`${o}$`,clearInterval(i)))},10);return n},x=t=>{const n=document.querySelector(r.svg).lastChild.previousElementSibling,s=document.querySelector(r.totalPercent),o=parseInt(t/1e6*100);console.log(t);let c=0,i=setInterval(()=>{c<o?(c++,console.log(c),s.textContent=`${c}%`,n.style.cssText=`--percent: ${c}`,n.attributes.stroke.value="lime",c>=o?(c=o,clearInterval(i)):c>=100&&(c=100,clearInterval(i))):c>o&&(s.textContent=`${c}%`,n.style.cssText=`--percent: ${c}`,c--,n.attributes.stroke.value="red",c<=o?(c=o,clearInterval(i)):c<=-100&&(c=-100)),n.style.cssText=`--percent: ${c}`,s.textContent=`${c}%`},20)},C=(t,e)=>{t.id.value=e.id,t.body.value=e.body,t.number.value=e.number,t.categoryIndex.selectedIndex=e.categoryIndex},q=t=>{let e=document.querySelector(r.category).options;e=[...e];let n=[];return e.forEach(o=>{n.push(o.innerHTML)}),n.indexOf(t)},L=()=>{const t=document.querySelector(r.category);return t.options[t.selectedIndex].text},E=t=>{let e;switch(t){case"[ + ] Incomes":e="fas fa-money-bill-wave";break;case"[ - ] Home":e="fa-solid fa-house";break;case"[ - ] Entertaiment":e="fas fa-film";break;case"[ - ] Shopping":e="fas fa-cart-arrow-down";break}return e},B=t=>{let e;switch(t){case"fas fa-money-bill-wave":e=" [ + ] Incomes";break;case"fa-solid fa-house":e=" [ - ] Home";break;case"fas fa-film":e=" [ - ] Entertaiment";break;case"fas fa-cart-arrow-down":e=" [ - ] Shopping";break}return e},k=()=>{const t=document.querySelector(r.itemID),e=document.querySelector(r.inputName),n=document.querySelector(r.inputNumber),s=document.querySelector(r.category);return{id:t,body:e,number:n,categoryIndex:s}},p=(t,e)=>{document.querySelector(r.addBtn).style.display=t,document.querySelector(r.updateBtn).style.display=e,document.querySelector(r.deleteBtn).style.display=e,document.querySelector(r.backBtn).style.display=e},u=t=>{t.id.value="",t.body.value="",t.number.value="",t.categoryIndex.selectedIndex=0},m=()=>{const t=document.querySelector(r.ulList);t.textContent=""},$=()=>{document.querySelector(r.transactions).classList.toggle("active")},w=()=>r;async function T(t){return await(await fetch(t)).json()}async function D(t,e){return await(await fetch(t,{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(e)})).json()}async function O(t,e){return await(await fetch(t,{method:"PUT",headers:{"Content-type":"application/json"},body:JSON.stringify(e)})).json()}async function b(t){return await fetch(t,{method:"DELETE",headers:{"Content-type":"application/json"},body:JSON.stringify()}),"Resource deleted"}const d=w(),P=document.querySelector(d.burgerBtn),N=document.querySelector(d.addBtn),M=document.querySelector(d.ulList),j=document.querySelector(d.updateBtn),A=document.querySelector(d.deleteBtn),_=document.querySelector(d.backBtn),H=document.querySelector(d.removeBtn);let g;const y=()=>{T("http://localhost:3000/data").then(t=>{p("inline","none"),g=I(t),x(g),S(t)}).catch(t=>console.log(t))},a=k(),h=()=>{const t=L(),e=E(t),n={body:a.body.value,number:a.number.value,category:e};a.body.value!==""&&a.number.value!==""&&a.categoryIndex.selectedIndex!==0&&(a.id.value===""?D("http://localhost:3000/data",n).then(s=>{u(a),m(),y()}).catch(s=>console.log(s)):O(`http://localhost:3000/data/${id.value}`,n).then(s=>{u(a),m(),y()}).catch(s=>console.log(s)))},F=t=>{if(t.target.matches(".fa-pencil")){const e=t.target.parentElement.closest("li").id,n=t.target.parentElement.closest("li").firstChild.textContent,s=parseInt(t.target.parentElement.closest("li").lastChild.textContent),o=t.target.parentElement.closest("li").firstChild.firstChild.className,c=B(o),l=q(c);return C(a,{id:e,body:n,number:s,categoryIndex:l}),p("none","inline"),{id:e}}},J=t=>{const e=document.querySelector("#id").value;console.log(e),b(`http://localhost:3000/data/${e}`).then(n=>{u(a),m(),y()}).catch(n=>console.log(n))},U=()=>{document.querySelectorAll("li").forEach(e=>{const n=e.getAttribute("id");b(`http://localhost:3000/data/${n}`).then(s=>{u(a),m(),y()}).catch(s=>console.log(s))})},K=()=>{u(a),p("inline","none")};H.addEventListener("click",U);_.addEventListener("click",K);A.addEventListener("click",J);j.addEventListener("click",h);M.addEventListener("click",F);N.addEventListener("click",h);P.addEventListener("click",$);document.addEventListener("DOMContentLoaded",y);
